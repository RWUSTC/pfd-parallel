version="v0.0.1";
category="Algebraic geometry";
info="demo";

proc pfd_gspc_filename (string matrixname, string suffix, int row, int col)
{
  string filename = matrixname
                  + "_" + string(row)
                  + "_" + string(col)
                  + "." + suffix;
  return (filename);
}

proc pfd_gspc_compute (in_struct input)
{
  execute("ring r = " + input.neededring);
  string filename = pfd_gspc_filename( input.matrixname
                                     , input.suffix
                                     , input.row
                                     , input.col);
  pfdSingleEntry(filename, input.fromdir, input.todir);

  out_struct output;
  output.result = "success!";
  return(output);
}

proc pfd_foo(int x)
{
  write(":w /u/h/heymann/PFD/write" + string(x) + ".txt", string(x));
  //out_struct output;
  //output.result = "success!";
  //return(output);
  return(x);
}

proc mod_init() {
  // TODO: change to installed pfd library
  LIB "@PFD_SING_LIB_PATH@/pfd.lib";
}
